---
title: "Covid Deaths - Feb 21"
output: 
html_notebook: default
---

```{r}
library(tidyverse)
library(janitor)
```

```{r}
covid_deaths <- read_csv("data/Provisional_COVID-19_Deaths_by_Race_and_Hispanic_Origin__and_Age.csv")

pop <- read_csv("data/pop-by-race-eth-age.csv")
```
# clean names
```{r}
covid_deaths <- covid_deaths %>% clean_names()
```

# note overlapping age groups, "United States" in the state column

```{r}
covid_deaths %>% count(race_and_hispanic_origin_group)
pop %>% count(name)
```

join the two tables
```{r}
covid_join <- covid_deaths %>% inner_join(pop, by=c("state"="name","age_group","race_and_hispanic_origin_group"="race_eth")) %>%
  select(-state.y)
```

Put leftover covid deaths rows in a new variable
```{r}
covid_leftovers <- covid_deaths %>% anti_join(covid_join, by=c("state", "age_group", "race_and_hispanic_origin_group"))
```

